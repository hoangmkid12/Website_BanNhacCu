<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../CSS/giohang.css">
    <!-- ƒê∆∞·ªùng d·∫´n t·ªõi file CSS c·ªßa b·∫°n -->
    <title>Gi·ªè H√†ng</title>
</head>

<body>
    <header>
        <h1>HMK - Music & Entertainment</h1>
        <p>Nh·∫°c C·ª• Ho√†ng M·ªπ | Ch·∫•t L∆∞·ª£ng Uy T√≠n | ƒêa D·∫°ng S·∫£n Ph·∫©m</p>
        <img src="../img/logohmk.jpg" alt="">
    </header>

    <nav>
        <!-- Navigation Items -->
        <div class="menu-items">
            <a href="../html/Website_BanNhacCu.html">Trang ch·ªß</a>
            <a href="../html/sanpham.html">S·∫£n ph·∫©m</a>
            <a href="../html/gioithieu.html">Gi·ªõi thi·ªáu</a>
            <a href="../html/tintuc.html">Tin t·ª©c</a>

        </div>

        <!-- Form T√¨m Ki·∫øm trong Menu -->
        <form class="search-form">
            <input type="text" class="search-input" placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m..." />
            <button type="submit" class="search-button">T√¨m</button>
        </form>
        <div id="search-results"></div>

        <div class="user-options">
            <a href="../html/giohang.html" class="cart-button">Gi·ªè h√†ng (0)</a>
            <!-- C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng gi·ªè h√†ng -->
            <a href="../html/login.html">ƒêƒÉng nh·∫≠p</a>
        </div>

    </nav>
    <div class="container">

        <!-- Ph·∫ßn gi·ªè h√†ng -->
        <div class="breadcrumb">
            Gi·ªè h√†ng > Ph∆∞∆°ng th·ª©c thanh to√°n
        </div>

        <h1 class="cart-heading">GI·ªé H√ÄNG</h1>

        <div class="free-shipping">
            <span>üöö</span>
            <span>Mi·ªÖn ph√≠ v·∫≠n chuy·ªÉn cho m·ªçi ƒë∆°n h√†ng</span>
        </div>

        <div style="display: flex; gap: 20px;">
            <div style="flex: 1;">
                <table class="cart-table">
                    <thead>
                        <tr>
                            <th>S·∫£n ph·∫©m</th>
                            <th>Gi√°</th>
                            <th>Total</th>
                        </tr>
                    </thead>
                    <tbody id="cartItems">
                        <!-- S·∫£n ph·∫©m s·∫Ω ƒë∆∞·ª£c th√™m v√†o ƒë√¢y -->
                    </tbody>
                </table>
                <div id="emptyCartMessage" class="empty-cart-message">
                    Gi·ªè h√†ng c·ªßa b·∫°n ƒëang tr·ªëng
                </div>
            </div>

            <div class="cart-summary">
                <div class="total-amount">
                    T·ªïng ti·ªÅn <span class="total-value" id="cartTotal">0‚Ç´</span>
                </div>
                <p style="color: #666; margin-bottom: 20px;">
                    Bao g·ªìm thu·∫ø. Mi·ªÖn ph√≠ v·∫≠n chuy·ªÉn m·ªçi ƒë∆°n h√†ng!
                </p>
                <button class="checkout-button">Ti·∫øn H√†nh ƒê·∫∑t H√†ng</button>
            </div>
        </div>
    </div>
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>H∆∞·ªõng d·∫´n chung</h3>
                <ul>
                    <li><a href="#">Giao h√†ng - ƒê·ªïi tr·∫£</a></li>
                    <li><a href="#">H∆∞·ªõng d·∫´n mua h√†ng</a></li>
                    <li><a href="#">Thanh to√°n v√† b·∫£o m·∫≠t</a></li>
                    <li><a href="#">Ch√≠nh s√°ch b·∫£o h√†nh</a></li>
                    <li><a href="#">K√≠ch ho·∫°t b·∫£o h√†nh</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>H·ªó tr·ª£ kh√°ch h√†ng</h3>
                <ul>
                    <li><a href="#">G·ªçi mua h√†ng: 0559149520 (Mi·ªÖn Ph√≠)</a></li>
                    <li><a href="#">Th·ªùi gian ph·ª•c v·ª•: 8h-22h</a></li>
                    <li><a href="#">Li√™n H·ªá / G√≥p √ù</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>Th√¥ng tin c·ª≠a h√†ng</h3>
                <ul>
                    <li><a href="#">H·ªá th·ªëng Showroom</a></li>
                    <li><a href="#">Ch·ª©ng nh·∫≠n</a></li>
                    <li><a href="#">Tuy·ªÉn d·ª•ng</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>Theo d√µi ƒë·ªÉ nh·∫≠n tin t·ª©c</h3>
                <p style="color: #999; margin-bottom: 1rem;">C·∫≠p nh·∫≠t c√°c th√¥ng tin khuy·∫øn m√£i m·ªõi qua email</p>
                <form class="subscribe-form">
                    <input type="email" placeholder="Email address">
                    <button type="submit">Subscribe</button>
                </form>
            </div>
        </div>

        <div class="footer-bottom">
            <p>¬© 2024 - Designed by NguyenHoangMy</p>
            <div class="social-links">
                <a href="#"><i class="fab fa-facebook"></i></a>
                <a href="#"><i class="fab fa-youtube"></i></a>
                <a href="#"><i class="fab fa-tiktok"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-linkedin"></i></a>
            </div>
        </div>
    </footer>

    <!-- Font Awesome for social icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <script>
        // Kh·ªüi t·∫°o gi·ªè h√†ng t·ª´ localStorage n·∫øu c√≥
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let cartCountElement = document.querySelector('.cart-button');

        // C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng s·∫£n ph·∫©m trong gi·ªè h√†ng
        function updateCartCount() {
            cartCountElement.textContent = `Gi·ªè h√†ng (${cart.length})`;
        }

        // Format s·ªë ti·ªÅn th√†nh ƒë·ªãnh d·∫°ng ti·ªÅn t·ªá VND
        function formatCurrency(amount) {
            return new Intl.NumberFormat('vi-VN', {
                style: 'currency',
                currency: 'VND'
            }).format(amount).replace('‚Ç´', '') + '‚Ç´';
        }

        // Th√™m s·∫£n ph·∫©m v√†o gi·ªè h√†ng
        function addToCart(productName, productPrice, productImage) {
            const product = {
                name: productName,
                price: parseInt(productPrice),
                image: productImage // L∆∞u h√¨nh ·∫£nh
            };
            cart.push(product);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            updateCartDisplay();
            alert(`${productName} ƒë√£ ƒë∆∞·ª£c th√™m v√†o gi·ªè h√†ng!`);
        }

        // C·∫≠p nh·∫≠t hi·ªÉn th·ªã gi·ªè h√†ng
        function updateCartDisplay() {
            const cartItemsElement = document.getElementById('cartItems');
            const emptyCartMessage = document.getElementById('emptyCartMessage');
            const cartTotalElement = document.getElementById('cartTotal');

            // T√≠nh t·ªïng ti·ªÅn
            const total = cart.reduce((sum, item) => sum + item.price, 0);
            cartTotalElement.textContent = formatCurrency(total);

            // C·∫≠p nh·∫≠t hi·ªÉn th·ªã tr·∫°ng th√°i gi·ªè h√†ng tr·ªëng
            if (cart.length === 0) {
                emptyCartMessage.style.display = 'block';
                cartItemsElement.innerHTML = '';
                return;
            }

            emptyCartMessage.style.display = 'none';

            // Hi·ªÉn th·ªã c√°c s·∫£n ph·∫©m
            cartItemsElement.innerHTML = cart.map((item, index) => `
        <tr class="cart-item">
            <td>
                <div class="product-info">
                    <img src="${item.image}" alt="${item.name}" class="product-image" style="width: 100px; height: auto;">
                    <div class="product-details">
                        <h3>${item.name}</h3>
                        <div class="stock-status">C√≥ h√†ng</div>
                        <div class="quantity-control">Qty: 1</div>
                    </div>
                </div>
            </td>
            <td class="price">${formatCurrency(item.price)}</td>
            <td>
                <span class="price">${formatCurrency(item.price)}</span>
                <span class="remove-item" onclick="removeItem(${index})">‚úï</span>
            </td>
        </tr>
    `).join('');
        }

        // X√≥a s·∫£n ph·∫©m kh·ªèi gi·ªè h√†ng
        function removeItem(index) {
            cart.splice(index, 1);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            updateCartDisplay();
        }

        // Kh·ªüi t·∫°o s·ª± ki·ªán cho c√°c n√∫t "Th√™m v√†o gi·ªè h√†ng"
        document.addEventListener('DOMContentLoaded', function() {
            const addToCartButtons = document.querySelectorAll('.add-to-cart-button');

            addToCartButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const productName = this.getAttribute('data-product-name');
                    const productPrice = this.getAttribute('data-product-price');
                    const productImage = this.getAttribute('data-product-image'); // L·∫•y h√¨nh ·∫£nh
                    addToCart(productName, productPrice, productImage);
                });
            });

            // C·∫≠p nh·∫≠t hi·ªÉn th·ªã ban ƒë·∫ßu
            updateCartCount();
            updateCartDisplay();
        });
    </script>
</body>

</html>